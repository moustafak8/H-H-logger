<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Dashboard</title>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        requireLogin();
      });
    </script>
    <link rel="stylesheet" href="../Css/user.css" />
    <script
      src="https://kit.fontawesome.com/ad84a263ca.js"
      crossorigin="anonymous"
    ></script>
    <script src="../script/axios.min.js" defer></script>
    <script src="../script/auth.js" defer></script>
    <script src="../script/Nutrition.js" defer></script>
  </head>

  <body>
    <header>
      <a href="#" class="logo">
        <i class="fa-solid fa-person-running">Habitify</i>
      </a>
    </header>
    <button onclick="logout()" class="logout-button">Logout</button>
    <nav class="sidebar">
      <a href="index.html">Dashboard</a>
      <a href="habit.html">Habits</a>
      <a href="entries.html">History</a>
      <a href="charts.html">Charts</a>
      <a href="weekly_summary.html">Weekly summary</a>
      <a href="nutrition.html">Nutrition Coach</a>
    </nav>
    <h1 class="title">Nutrition Coach</h1>
    <div class="nutrition-coach-container">
        <div class="nutrition-coach-card">
            <div class="card-header">
                <h2><i class="fa-solid fa-apple-whole"></i> AI Nutrition Coach</h2>
                <p class="card-subtitle">Get instant calorie estimates and personalized meal suggestions</p>
            </div>
            <div class="card-body">
                <div class="input-section">
                    <label for="meal-input">Describe your meal</label>
                    <textarea 
                        id="meal-input" 
                        rows="4" 
                        placeholder="e.g., 'I ate a grilled chicken sandwich with fries and a soda'"
                    ></textarea>
                    <button id="get-nutrition-advice" class="nutrition-btn">
                        <span class="btn-text">Get Nutrition Advice</span>
                        <span class="btn-loader" style="display: none;">
                            <i class="fa-solid fa-spinner fa-spin"></i> Analyzing...
                        </span>
                    </button>
                </div>
                <div id="nutrition-display" class="nutrition-results"></div>
            </div>
        </div>
    </div>
  </body>
</html>
